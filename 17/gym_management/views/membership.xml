<odoo>
    <data>

        <!--        Form View for Gym Membership -->
        <record id="view_gym_membership" model="ir.ui.view">
            <field name="name">Membership</field>
            <field name="model">product.template</field>
            <field name="priority">50</field>
            <field name="arch" type="xml">
                     <form>

                    <sheet name="product_form">
<!--                            <button name="com" string="Search I ds" type="object" class="oe_highlight"/>-->

                        <field name="image_1920" widget="image" options="{'size': [0, 128]}"/>

                        <group>
                            <group>
                                <field name="name" string="Name"/>
                                <field name="trainer_id" string="Trainer Name" invisible="types  == 'membership'" context="{'form_view_ref': 'gym_management.view_partner_form_gym_management_form'}"/>
                                <field name="list_price" string="Fees"/>
                            </group>
                            <group>
                                <field name="types" string="Type"/>
                                <field name="duration_months" string="Numbers of Months"/>
                                <field name="membership" string="Active Membership" default="True"/>
                            </group>
                        </group>
                        <notebook>
                            <page name="Member's List">
                                <field name="member_ids">
                                    <kanban class="o_kanban_mobile">
                                        <templates>
                                            <t t-name="kanban-box">
                                                <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                                    <div class="o_kanban_record_top">
                                                        <div class="o_kanban_record_headings">
                                                            <strong class="o_kanban_record_title">
                                                                <span>
                                                                    <h3>
                                                                        <field name="gymid"/>
                                                                    </h3>
                                                                </span>
                                                            </strong>
                                                            <br/>
                                                            <span>
                                                                <div class="o_kanban_record_body">
                                                                    <h3>
                                                                        <field name="name"/>
                                                                    </h3>
                                                                    <field name="memberships_id"/>
                                                                    <span>Member</span>
                                                                </div>
                                                            </span>
                                                            <br/>
                                                        </div>

                                                        <span>
                                                            <field name="image_1920" widget="image" class="oe_avatar"
                                                                   options="{'preview_image': 'image_128'}"
                                                                   field_id="image_1920_0"/>
                                                        </span>
                                                    </div>

                                                </div>
                                            </t>
                                        </templates>
                                    </kanban>
                                    <form>
                                        <group>
                                            <group>
                                                <field name="gymid" string="Id"/>
                                                <field name="name" string="Name"/>
                                                <field name="gender" string="Gender"/>
                                                <field name="phone"/>
                                            </group>
                                            <group>
                                                <field name="bdate" string="DOB"/>
                                                <field name="age" string="Age"/>
                                                <field name="start_date" string="Joining Date"/>
                                                <field name="exp_date" readonly="1"/>
                                            </group>
                                        </group>
                                    </form>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>



        <!--        Tree View for Gym Membership -->
        <record id="view_gym_membership_tree" model="ir.ui.view">
            <field name="name">view.gym.membership.tree</field>
            <field name="model">product.template</field>
            <field name="arch" type="xml">
                <tree string="Membership products">
                    <field name="name"/>
                    <field name="duration_months"/>
                    <field name="list_price" string="Membership Fee"/>
                </tree>
            </field>
        </record>

        <!--        Kanban View for Gym Membership -->
        <record id="view_gym_membership_kanban" model="ir.ui.view">
            <field name="name">view.gym.membership.kanban</field>
            <field name="model">product.template</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_mobile">
                    <h3>
                        <field name="name" string="Membership"/>
                    </h3>
                    <field name="list_price" string="Fees" default="0.0"/>

                    <field name="duration_months" default="0.0"/>
                    <templates>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                                <div class="o_kanban_record_top">
                                    <div class="o_kanban_record_headings">
                                        <strong class="o_kanban_record_title">
                                            <span>
                                                <h3>
                                                    <field name="name"/>
                                                </h3>
                                            </span>
                                        </strong>
                                        <br/>
                                        <span>
                                            <div class="o_kanban_record_body">
                                                <i class="fa fa-clock-o" role="img" aria-label="Period" title="Period"/>
                                                <strong> Duration : </strong>
                                                <field name="duration_months"/>
                                                <span> Months</span>
                                            </div>
                                        </span>
                                        <br/>
                                        <div class="o_kanban_record_body">
                                            <i class="fa fa-money" role="img" aria-label="Price" title="Price"/>
                                            <strong>
                                                <strong> </strong>
                                                <field name="list_price"/>
                                            </strong>
                                        </div>

                                    </div>

                                    <span>
                                        <field name="image_1920" widget="image" class="oe_avatar"
                                               options="{'preview_image': 'image_128'}" field_id="image_1920_0"/>
                                    </span>
                                </div>

                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>


        <!--        Search View for Gym Membership -->
        <record model="ir.ui.view" id="view_gym_membership_search">
            <field name="name">view.gym.membership.search</field>
            <field name="model">product.template</field>
            <field name="arch" type="xml">
                <search string="Membership">
                    <field name="name"
                           filter_domain="['|',('name', 'ilike', self),('duration_months', 'ilike', self),('types', 'ilike', self),('list_price', 'ilike', self)]"
                           string="Name"/>
                    <group expand='0' string='Group by...'>
                        <filter string='Status' name="name" domain="[]" context="{'group_by' : 'name'}"/>
                        <filter string='Type' name="memberships" domain="[]"
                                context="{'group_by' : 'types'}"/>

                        <filter string='Duration' name="duration_months" domain="[]"
                                context="{'group_by' : 'duration_months'}"/>


                    </group>

                </search>
            </field>
        </record>

         <!--        this is for main Action Window-->
         <record model="ir.actions.act_window"  id="gym_membership_action_window">
            <field name="name">Gym Membership Window</field>
            <field name="res_model">product.template</field>

             <field name="view_ids"
                   eval="[(5, 0, 0),
                          (0, 0, {'view_mode': 'kanban', 'view_id': ref('view_gym_membership_kanban')}),
                          (0, 0, {'view_mode': 'form', 'view_id': ref('view_gym_membership')}),
                          (0, 0, {'view_mode': 'tree', 'view_id': ref('view_gym_membership_tree')}),
                         ]"/>

<!--            <field name="view_mode">kanban,tree,form</field>-->
            <field name="domain">[('membership','=',True)]</field>
            <field name="context">{'membership':True }</field>
             <field name="context">{"search_default_memberships": 1}</field>

            <field name="search_view_id" ref="gym_management.view_gym_membership_search"/>
        </record>

    </data>
</odoo>